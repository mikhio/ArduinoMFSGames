// Array of digits bytes
byte digits[] = {0xf8, 0xf4, 0xf2, 0xf1};
byte nums[] = {
  0b11000000, 0b11111001, 0b10100100,
  0b10110000, 0b10011001, 0b10010010,
  0b10000010, 0b11111000, 0b10000000,
  0b10010000,
};
byte dotChr = 0b10000000;

byte introMask[][4] = {
  {0b11111111, 0b11111111, 0b11111111, 0b11111110},
  {0b11111111, 0b11111111, 0b11111110, 0b11111110},
  {0b11111111, 0b11111110, 0b11111110, 0b11111110},
  {0b11111110, 0b11111110, 0b11111110, 0b11111110},
  {0b11011110, 0b11111110, 0b11111110, 0b11111110},
  {0b10011110, 0b11111110, 0b11111110, 0b11111111},
  {0b10011010, 0b11111110, 0b11111111, 0b11111111},
  {0b10010010, 0b11111111, 0b11111111, 0b11111111},
  {0b10010010, 0b11111111, 0b11111111, 0b11111111},

  {0b10010010, 0b11101111, 0b11111111, 0b11111110},
  {0b10010010, 0b11001111, 0b11111110, 0b10111111},
  {0b10010010, 0b10001110, 0b10111111, 0b11110111},
  {0b10010010, 0b10001110, 0b11110111, 0b11111111},
  {0b10010010, 0b10000110, 0b11111111, 0b11111111},
  {0b10010010, 0b10000110, 0b11111111, 0b11111111},

  {0b10010010, 0b10000110, 0b11110111, 0b11111111},
  {0b10010010, 0b10000110, 0b11100011, 0b11111111},
  {0b10010010, 0b10000110, 0b11000011, 0b11111111},
  {0b10010010, 0b10000110, 0b11000010, 0b11111111},
  {0b10010010, 0b10000110, 0b11000010, 0b11111111},

  {0b10010010, 0b10000110, 0b11000010, 0b11111001},
  {0b10010010, 0b10000110, 0b11000010, 0b11001111},
  {0b10010010, 0b10000110, 0b11000010, 0b11001001},
  {0b10010010, 0b10000110, 0b11000010, 0b11001000},
  {0b10010010, 0b10000110, 0b11000010, 0b10001000},
  {0b10010010, 0b10000110, 0b11000010, 0b10001000},
  {0b10010010, 0b10000110, 0b11000010, 0b10001000},
  {0b11111111, 0b11111111, 0b11111111, 0b11111110},
  {0b10010010, 0b10000110, 0b11000010, 0b10001000},
  {0b11111111, 0b11111111, 0b11111111, 0b11111110},
  {0b10010010, 0b10000110, 0b11000010, 0b10001000},
};

byte hmap[] = {
  nums[1] + dotChr,
  nums[2],
  nums[3],
  nums[4]
};

// Fuctions
void chr(byte Data, byte digit);  // Print char (data)
void printMap(byte pmap[]);
void printIntro();

void setup() {
  Serial.begin(9600);
  
  // Pins for display  
  pinMode(4, OUTPUT);
  pinMode(6, OUTPUT);   
  pinMode(7, OUTPUT);
  pinMode(8, OUTPUT);

  printIntro();
}

void loop() {
  printMap(hmap);

  delay(1);
}

void printIntro() {
  for (float i = 0; i < sizeof(introMask)/sizeof(introMask[0]); i += 0.005)
    printMap(introMask[int(floor(i))]);
}

void printMap(byte pmap[]) {
  for (byte i = 0; i < 4; ++i) chr(pmap[i], 3-i);
}

void chr (byte Data, byte digit) {
  digitalWrite (4, LOW);
  shiftOut(8, 7, MSBFIRST, Data);
  shiftOut(8, 7, MSBFIRST, digits[digit]);
  digitalWrite (4, HIGH);
}
